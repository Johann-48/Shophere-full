{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-10-16T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_shophere_reset",
      "_type": "workspace",
      "name": "Shophere - Reset Password",
      "description": "Testes de recupera√ß√£o de senha"
    },
    {
      "_id": "env_shophere_reset",
      "_type": "environment",
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:3000",
        "reset_token": "COLE_O_TOKEN_AQUI"
      },
      "parentId": "wrk_shophere_reset"
    },
    {
      "_id": "req_forgot_password",
      "_type": "request",
      "parentId": "fld_reset_password",
      "name": "1. Forgot Password (Solicitar Reset)",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/forgot-password",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"usuario@exemplo.com\"\n}"
      },
      "description": "Solicita um token de reset de senha.\n\n‚úÖ Use um email que EXISTE no banco de dados!\n\nüìã Resposta cont√©m o token (em desenvolvimento)\nüîç Copie o token da resposta para usar no pr√≥ximo passo"
    },
    {
      "_id": "req_reset_password",
      "_type": "request",
      "parentId": "fld_reset_password",
      "name": "2. Reset Password (Redefinir Senha)",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/reset-password",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"token\": \"{{ _.reset_token }}\",\n  \"novaSenha\": \"minhaNovaSenha123\"\n}"
      },
      "description": "Redefine a senha usando o token recebido.\n\n‚ö†Ô∏è ANTES DE EXECUTAR:\n1. Execute a requisi√ß√£o '1. Forgot Password'\n2. Copie o token da resposta\n3. Cole o token no Environment (reset_token)\n\n‚úÖ Senha deve ter pelo menos 6 caracteres"
    },
    {
      "_id": "req_login_nova_senha",
      "_type": "request",
      "parentId": "fld_reset_password",
      "name": "3. Login (Testar Nova Senha)",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/login",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"usuario@exemplo.com\",\n  \"senha\": \"minhaNovaSenha123\"\n}"
      },
      "description": "Testa o login com a nova senha redefinida.\n\n‚úÖ Se funcionou, voc√™ receber√° um token JWT!"
    },
    {
      "_id": "req_forgot_email_invalido",
      "_type": "request",
      "parentId": "fld_testes_erro",
      "name": "‚ùå Email N√£o Cadastrado",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/forgot-password",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"emailinexistente@exemplo.com\"\n}"
      },
      "description": "Teste com email n√£o cadastrado.\n\n‚úÖ Por seguran√ßa, retorna sucesso mas n√£o cria token"
    },
    {
      "_id": "req_reset_token_invalido",
      "_type": "request",
      "parentId": "fld_testes_erro",
      "name": "‚ùå Token Inv√°lido",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/reset-password",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"token\": \"token_invalido_12345\",\n  \"novaSenha\": \"novaSenha123\"\n}"
      },
      "description": "Teste com token inv√°lido ou expirado.\n\n‚ùå Deve retornar erro 400"
    },
    {
      "_id": "req_reset_senha_curta",
      "_type": "request",
      "parentId": "fld_testes_erro",
      "name": "‚ùå Senha Muito Curta",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/reset-password",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"token\": \"{{ _.reset_token }}\",\n  \"novaSenha\": \"123\"\n}"
      },
      "description": "Teste com senha menor que 6 caracteres.\n\n‚ùå Deve retornar erro 400"
    },
    {
      "_id": "req_reset_sem_token",
      "_type": "request",
      "parentId": "fld_testes_erro",
      "name": "‚ùå Campos Obrigat√≥rios Ausentes",
      "method": "POST",
      "url": "{{ _.base_url }}/api/auth/reset-password",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"novaSenha\": \"novaSenha123\"\n}"
      },
      "description": "Teste sem enviar o token.\n\n‚ùå Deve retornar erro 400"
    },
    {
      "_id": "fld_reset_password",
      "_type": "request_group",
      "parentId": "wrk_shophere_reset",
      "name": "‚úÖ Fluxo Principal"
    },
    {
      "_id": "fld_testes_erro",
      "_type": "request_group",
      "parentId": "wrk_shophere_reset",
      "name": "‚ö†Ô∏è Testes de Erro"
    }
  ]
}
